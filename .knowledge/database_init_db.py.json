{"is_source_file": true, "format": "Python", "description": "This script initializes and migrates an SQLite database for a notes application, creating tables, triggers, and helper files, and inserting initial data.", "external_files": ["db_connection.txt", "db_visualizer/sqlite.env"], "external_methods": ["os.path.exists", "open", "re.search", "sqlite3.connect", "os.makedirs", "subprocess.run"], "published": ["main"], "classes": [], "methods": [{"name": "_parse_db_path_from_connection_file", "description": "Parses the database file path from the connection file if present."}, {"name": "_resolve_db_path", "description": "Resolves the database path using the connection file or default name."}, {"name": "_table_exists", "description": "Checks if a specific table exists in the database."}, {"name": "_get_table_columns", "description": "Retrieves column info for a specified table."}, {"name": "_ensure_table_with_required_columns", "description": "Creates a table if not exists and adds missing columns non-destructively."}, {"name": "_ensure_notes_updated_at_trigger", "description": "Creates a trigger to auto-update 'updated_at' on notes."}, {"name": "main", "description": "Main function to initialize and migrate the database, and generate helper files."}], "calls": ["os.path.exists", "open", "re.search", "sqlite3.connect", "os.makedirs", "cursor.execute", "conn.commit", "conn.close", "subprocess.run"], "search-terms": ["SQLite database initialization", "notes table schema", "database migration script", "trigger for updated_at", "helper file generation", "init_db.py"], "state": 2, "file_id": 1, "knowledge_revision": 24, "git_revision": "db428a60dadb390e86b45558d827e01699fc0946", "revision_history": [{"16": "df3e2718c6961d174754753fa8ab5c0a0245f55c"}, {"20": "db428a60dadb390e86b45558d827e01699fc0946"}, {"24": "db428a60dadb390e86b45558d827e01699fc0946"}], "ctags": [], "filename": "database/init_db.py", "format-version": 4, "code-base-name": "https://github.com/kavia-common/simple-notes-app-312508-312525.git:kavia-main"}